(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{163:function(t,e,n){},291:function(t,e,n){"use strict";n.r(e);var a=n(0),r=n(16),c=n.n(r),i=(n(163),n(15)),o=n(320),s=n(337),l=n(338),u=n(339),j=n(340),d=n(341),b=n(150),p=n(328),O=n(329),h=n(146),m=n.n(h),f=n(79),x=n(20),v=n(18),g=n(27),y=n(323),w=n(325),k=n(326),C=n(346),N=n(327),T=n(77),S=n.n(T),_=n.p+"static/media/noimage.51df33d5.svg",F=n(3),B=Object(o.a)((function(t){return{root:{maxWidth:374,position:"relative"},media:{height:0,paddingTop:"56.25%",backgroundColor:"rgba(0, 0, 0, 0.5)",backgroundBlendMode:"darken"},overlay:{position:"absolute",top:"20px",left:"20px",color:"white"},chip:{marginTop:t.spacing(1)}}})),E=function(t){var e,n=t._id,a=t.title,r=t.subtitle,c=t.content,i=t.tag,o=t.image,s=t.createdAt,l=B();return Object(F.jsxs)(y.a,{className:l.root,children:[Object(F.jsx)(w.a,{className:l.media,image:o||_,title:"image"}),Object(F.jsxs)("div",{className:l.overlay,children:[Object(F.jsx)(b.a,{variant:"h6",children:"Semih"}),Object(F.jsx)(b.a,{variant:"body2",children:(e=s,S()(e).fromNow())})]}),Object(F.jsxs)(k.a,{children:[Object(F.jsx)(b.a,{variant:"h6",component:"p",gutterBottom:!0,children:a.substring(0,30)+"..."}),Object(F.jsx)(b.a,{variant:"overline",component:"p",gutterBottom:!0,children:r}),Object(F.jsx)(b.a,{variant:"body2",component:"p",gutterBottom:!0,children:c.substring(0,180)+"..."}),Object(F.jsx)(C.a,{label:" # ".concat(i),variant:"outlined",className:l.chip})]}),Object(F.jsx)(N.a,{children:Object(F.jsx)(p.a,{size:"small",color:"primary",children:Object(F.jsx)(f.b,{to:"/posts/".concat(n),children:"More"})})})]})},P=n.p+"static/media/grid_four.d897e640.svg",W=n.p+"static/media/grid_three.c45b945b.svg",z=Object(o.a)((function(t){return{layoutShifter:{float:"right",margin:t.spacing(2)}}})),R=function(){var t=Object(g.c)((function(t){return t.posts.posts})),e=Object(a.useState)("gridThree"),n=Object(i.a)(e,2),r=n[0],c=n[1],o=z();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsxs)("div",{className:o.layoutShifter,children:[Object(F.jsx)(p.a,{variant:"text",size:"small",onClick:function(){return c("gridThree")},children:Object(F.jsx)("img",{src:W,style:{background:"gridThree"===r?"#ccc":""},alt:"Three Columns Grid Icon"})}),Object(F.jsx)(p.a,{variant:"text",size:"small",onClick:function(){return c("gridFour")},children:Object(F.jsx)("img",{src:P,style:{background:"gridFour"===r?"#ccc":""},alt:"Four Columns Grid Icon"})})]}),Object(F.jsx)(O.a,{container:!0,spacing:2,alignContent:"stretch",children:t.length>0&&t.map((function(t){return Object(F.jsx)(O.a,{item:!0,xs:12,md:"gridThree"===r?4:3,children:Object(F.jsx)(E,Object(v.a)({},t))},null===t||void 0===t?void 0:t._id)}))})]})},I=n(80),V=n.n(I),q=n(45),A=n(81),D=n(31),G=n(345),M=n(330),H=n(331),J=n(332),L=n(344),U=n(342),K=n(333),Q=n(348),X=n(335),Y=n(9),Z=n(21),$=n(61),tt=n.n($),et="https://blogify-backend-de.herokuapp.com/posts/",nt=function(){var t=Object(Z.a)(Object(Y.a)().mark((function t(){return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt.a.get(et);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),at=function(){var t=Object(Z.a)(Object(Y.a)().mark((function t(e){return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt.a.get("".concat(et).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),rt=function(){var t=Object(Z.a)(Object(Y.a)().mark((function t(e){return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt.a.post(et,e);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ct=function(){var t=Object(Z.a)(Object(Y.a)().mark((function t(e,n){return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt.a.patch("".concat(et).concat(e),n);case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),it=function(){var t=Object(Z.a)(Object(Y.a)().mark((function t(e){return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,tt.a.delete("".concat(et).concat(e));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),ot="FETCH_POSTS",st="CREATE_POST",lt="FETCH_SINGLE_POST",ut="DELETE_POST",jt="UPDATE_POST",dt=Object(o.a)((function(t){return{paper:{padding:t.spacing(2)},textField:{marginBottom:t.spacing(2)}}})),bt=["fun","programming","health","science"],pt=D.b().shape({title:D.c().required(),subtitle:D.c().required(),content:D.c().min(20).required(),tag:D.a().oneOf(bt)}),Ot=function(t){var e=t.open,n=t.handleClose,r=Object(g.b)(),c=Object(a.useState)(null),o=Object(i.a)(c,2),s=o[0],l=o[1],u=Object(q.c)({resolver:Object(A.a)(pt)}),j=u.register,d=u.handleSubmit,b=u.control,O=u.errors,h=u.reset,m=function(t){var e;console.log(Object(v.a)(Object(v.a)({},t),{},{file:s})),r((e=Object(v.a)(Object(v.a)({},t),{},{image:s}),function(){var t=Object(Z.a)(Object(Y.a)().mark((function t(n){var a,r;return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,rt(e);case 3:a=t.sent,r=a.data,n({type:st,payload:r}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())),f()},f=function(){h(),l(null),n()},x=dt();return Object(F.jsxs)(G.a,{open:e,onClose:n,children:[Object(F.jsx)(M.a,{children:"Create a new post"}),Object(F.jsxs)(H.a,{children:[Object(F.jsx)(J.a,{children:"To subscribe to this website, please enter your email address here. We will send updates occasionally."}),Object(F.jsx)("div",{className:x.root,children:Object(F.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:d(m),children:[Object(F.jsx)(L.a,{id:"title",label:"Title",name:"title",variant:"outlined",className:x.textField,size:"small",inputRef:j,error:!!O.title,fullWidth:!0}),Object(F.jsx)(L.a,{id:"subtitle",label:"Subtitle",name:"subtitle",variant:"outlined",className:x.textField,size:"small",inputRef:j,error:!!O.subtitle,fullWidth:!0}),Object(F.jsx)(q.a,{as:Object(F.jsx)(U.a,{input:Object(F.jsx)(K.a,{}),className:x.textField,fullWidth:!0,children:bt.map((function(t,e){return Object(F.jsx)(Q.a,{value:t,children:t},e)}))}),name:"tag",control:b,error:!!O.tag,defaultValue:bt[0]}),Object(F.jsx)(L.a,{id:"content",label:"Content",name:"content",variant:"outlined",multiline:!0,rows:4,className:x.textField,size:"small",inputRef:j,error:!!O.content,fullWidth:!0}),Object(F.jsx)(V.a,{multiple:!1,onDone:function(t){var e=t.base64;return l(e)}})]})})]}),Object(F.jsxs)(X.a,{children:[Object(F.jsx)(p.a,{color:"inherit",onClick:f,children:"Cancel"}),Object(F.jsx)(p.a,{type:"submit",variant:"outlined",color:"primary",onClick:function(){return d(m)()},children:"Publish"})]})]})},ht=n(149),mt=n(336),ft=n(144),xt=n.n(ft),vt=n(145),gt=n.n(vt),yt=Object(o.a)((function(t){return{textField:{marginBottom:t.spacing(2)},buttons:{marginTop:t.spacing(2)}}})),wt=["fun","programming","health","science"],kt=D.b().shape({title:D.c().required(),subtitle:D.c().required(),content:D.c().min(20).required(),tag:D.a().oneOf(wt)}),Ct=function(t){t.history;var e=t.post,n=t.closeEditMode,r=Object(g.b)(),c=Object(a.useState)(null===e||void 0===e?void 0:e.image),o=Object(i.a)(c,2),s=o[0],l=o[1],u=Object(q.c)({resolver:Object(A.a)(kt)}),j=u.register,d=u.handleSubmit,b=u.control,O=u.errors,h=u.reset,m=yt();return Object(F.jsx)("div",{children:Object(F.jsxs)("form",{noValidate:!0,autoComplete:"off",onSubmit:d((function(t){var a=Object(v.a)(Object(v.a)({_id:e._id},t),{},{image:s});r(function(t,e){return function(){var n=Object(Z.a)(Object(Y.a)().mark((function n(a){var r,c;return Object(Y.a)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,ct(t,e);case 3:r=n.sent,c=r.data,a({type:jt,payload:c}),n.next=11;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(t){return n.apply(this,arguments)}}()}(e._id,a)),h(),l(null),n()})),children:[Object(F.jsx)(L.a,{id:"title",label:"Title",name:"title",variant:"outlined",className:m.textField,size:"small",inputRef:j,error:!!O.title,fullWidth:!0,defaultValue:null===e||void 0===e?void 0:e.title}),Object(F.jsx)(L.a,{id:"subtitle",label:"Subtitle",name:"subtitle",variant:"outlined",className:m.textField,size:"small",inputRef:j,error:!!O.subtitle,fullWidth:!0,defaultValue:null===e||void 0===e?void 0:e.subtitle}),Object(F.jsx)(q.a,{as:Object(F.jsx)(U.a,{input:Object(F.jsx)(K.a,{}),className:m.textField,children:wt.map((function(t,e){return Object(F.jsx)(Q.a,{value:t,children:t},e)}))}),name:"tag",control:b,error:!!O.tag,defaultValue:null===e||void 0===e?void 0:e.tag}),Object(F.jsx)(L.a,{id:"content",label:"Content",name:"content",multiline:!0,size:"small",inputRef:j,rows:4,className:m.textField,variant:"outlined",error:!!O.content,fullWidth:!0,defaultValue:null===e||void 0===e?void 0:e.content}),Object(F.jsx)(V.a,{multiple:!1,onDone:function(t){var e=t.base64;return l(e)}}),Object(F.jsxs)("div",{className:m.buttons,children:[Object(F.jsx)(p.a,{color:"primary",variant:"outlined",onClick:n,children:"Cancel"})," ",Object(F.jsx)(p.a,{color:"secondary",variant:"outlined",type:"submit",children:"Save"})]})]})})},Nt=Object(o.a)((function(t){return{paper:{padding:t.spacing(3),marginBottom:t.spacing(8)},header:{display:"flex",justifyContent:"space-between"},content:{marginTop:t.spacing(3)},image:{width:"100%",borderRadius:5,marginTop:t.spacing(3),marginBottom:t.spacing(4)},chip:{marginTop:t.spacing(1)}}})),Tt=function(t){var e=t.match,n=t.history,r=(t.location,e.params.id),c=Object(g.b)(),o=Object(g.c)((function(t){return t.posts.currentPost})),s=Object(a.useState)(!1),l=Object(i.a)(s,2),u=l[0],j=l[1];Object(a.useEffect)((function(){c(function(t){return function(){var e=Object(Z.a)(Object(Y.a)().mark((function e(n){var a,r;return Object(Y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,at(t);case 3:a=e.sent,r=a.data,n({type:lt,payload:r}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(r))}),[c,r]);var d,O=Nt();return Object(F.jsx)(ht.a,{className:O.paper,elevation:0,children:u?Object(F.jsx)(Ct,{post:o,closeEditMode:function(){j(!1)}}):Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:O.header,children:[Object(F.jsx)(b.a,{variant:"h5",gutterBottom:!0,children:null===o||void 0===o?void 0:o.title}),Object(F.jsxs)("div",{children:[Object(F.jsx)(p.a,{color:"primary",variant:"outlined",startIcon:Object(F.jsx)(xt.a,{}),onClick:function(){j(!0)},children:"Edit"})," ",Object(F.jsx)(p.a,{color:"secondary",variant:"outlined",onClick:function(){c(function(t){return function(){var e=Object(Z.a)(Object(Y.a)().mark((function e(n){var a,r;return Object(Y.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,it(t);case 3:a=e.sent,r=a.data,n({type:ut,payload:r._id}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()}(o._id)),n.push("/posts")},startIcon:Object(F.jsx)(gt.a,{}),children:"Delete"})]})]}),Object(F.jsx)(mt.a,{}),Object(F.jsx)(b.a,{variant:"overline",gutterBottom:!0,children:null===o||void 0===o?void 0:o.subtitle}),Object(F.jsxs)(b.a,{variant:"caption",component:"p",gutterBottom:!0,children:[(d=null===o||void 0===o?void 0:o.createdAt,S()(d).fromNow())," by Semih"]}),Object(F.jsx)(C.a,{label:"# ".concat(null===o||void 0===o?void 0:o.tag),variant:"outlined",className:O.chip}),Object(F.jsxs)("div",{className:O.content,children:[Object(F.jsx)("img",{src:(null===o||void 0===o?void 0:o.image)||_,alt:"Post",className:O.image}),Object(F.jsx)(b.a,{variant:"body1",gutterBottom:!0,children:null===o||void 0===o?void 0:o.content})]})]})})},St=Object(o.a)((function(t){return{root:{flexGrow:1},menuButton:{marginRight:t.spacing(2)},title:{flexGrow:1},container:{marginTop:t.spacing(3)}}})),_t=function(){var t=Object(g.b)();Object(a.useEffect)((function(){t(function(){var t=Object(Z.a)(Object(Y.a)().mark((function t(e){var n,a;return Object(Y.a)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,nt();case 3:n=t.sent,a=n.data,e({type:ot,payload:a}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}())}),[t]);var e=Object(a.useState)(!1),n=Object(i.a)(e,2),r=n[0],c=n[1],o=St();return Object(F.jsxs)(F.Fragment,{children:[Object(F.jsx)(s.a,{}),Object(F.jsxs)(l.a,{maxWidth:"lg",children:[Object(F.jsx)(u.a,{position:"static",color:"inherit",electron:0,children:Object(F.jsxs)(j.a,{children:[Object(F.jsx)(d.a,{edge:"start",className:o.container,color:"inherit"}),Object(F.jsx)(b.a,{variant:"h6",color:"secondary",className:o.title,children:Object(F.jsx)("a",{href:"https://blogify-frontend-den.herokuapp.com/posts",children:"Blogcu"})}),Object(F.jsx)(p.a,{color:"primary",variant:"outlined",startIcon:Object(F.jsx)(m.a,{}),onClick:function(){c(!0)},children:"Add new post"})]})}),Object(F.jsx)(O.a,{container:!0,className:o.container,children:Object(F.jsxs)(f.a,{children:[Object(F.jsxs)(x.d,{children:[Object(F.jsx)(x.b,{exact:!0,path:"/posts",component:R}),Object(F.jsx)(x.b,{exact:!0,path:"/posts/:id",component:Tt})]}),Object(F.jsx)(x.a,{from:"/",to:"/posts"})]})})]}),Object(F.jsx)(Ot,{open:r,handleClose:function(){c(!1)}})]})},Ft=n(60),Bt=n(147),Et=n(8),Pt={posts:[],currentPost:null},Wt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Pt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case ot:return Object(v.a)(Object(v.a)({},t),{},{posts:e.payload});case lt:return Object(v.a)(Object(v.a)({},t),{},{currentPost:e.payload});case st:return Object(v.a)(Object(v.a)({},t),{},{posts:[].concat(Object(Et.a)(t.posts),[e.payload])});case jt:return Object(v.a)(Object(v.a)({},t),{},{posts:t.posts.map((function(t){return t._id===e.payload._id?e.payload:t})),currentPost:e.payload});case ut:return Object(v.a)(Object(v.a)({},t),{},{posts:t.posts.filter((function(t){return t._id!==e.payload})),currentPost:null});default:return Object(v.a)({},t)}},zt=Object(Ft.b)({posts:Wt}),Rt=Object(Ft.d)(zt,{},Object(Ft.c)(Object(Ft.a)(Bt.a)));c.a.render(Object(F.jsx)(g.a,{store:Rt,children:Object(F.jsx)(_t,{})}),document.getElementById("root"))}},[[291,1,2]]]);
//# sourceMappingURL=main.d8f31cc5.chunk.js.map